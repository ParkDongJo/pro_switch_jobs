# 테스트의 목적

- 기능 테스트(인터렉션 테스트) : 개발된 기능에 문제가 없는지 검증하는 테스트
- 비기능 테스트(접근성 테스트) : 웹접근성에 대한 테스트
- 회귀 테스트 : 특정 시점을 기준으로 전후 차이를 시각적 자료로 비교하여 검증하는 테스트

# 테스트 범위

### 정적 분석

- 타입스크립트
- ESLint

### 단위 테스트

테스트할 모듈이 특정 입력값을 받아 기대하는 출력값을 반환하게끔 한다.

- vitest
- jest

### 통합 테스트

여러 모듈을 연동한 기능을 테스트 한다.

- reg-suit
- vitest
- testing-library (UI)

### E2E 테스트

UI 테스트 뿐만 아니라 외부 스토리지와 같이 연동중인 실제 환경까지 포함하는 테스트이다.

# 테스트 전략

E2E 테스트 > 통합 테스트 > 단위 테스트

<--- 높은 유사성 / 긴 실행 시간 / 낮은 안정성
---> 낮은 유사성 / 짧은 실행 시간 / 높은 안정성

실제 제품과 유사항 상층부 테스트가 많을수록 좋은 테스트 전략인 것만은 아니다, 위로 갈수록 많은 시간과 비용이 필요하다.
실제 환경과 최대한 유사한 환경을 구축해야하고, 테스트 할 때마다 제품과 연동된 외부 시스템 응답도 기다려야 한다.

여기서 안정성은 짧은 실행 시간 덕분에, 자주 실행할 수 있어서 안정성이 높아진다고 여겨진다.

### 테스팅 트로피 전략

통합 테스트 비중이 가장 높아야 한다.
testing-library 와 vitest(jest) 를 활용하면 헤드리스 브라우저 없이도 사용자 조작을 재현해 테스트 할 수 있다.

### 테스트 구축

##### 테스트가 없는데, 당장 리팩터링이 필요하다면

- 릴리즈된 기능을 목록으로 정리한다.
- 변경전후로 결함이 발생하지 않았는지 검증하는 회귀 테스트를 작성
- 웹 API 에 대한 의존성을 Mock 서버를 활용하여 분리한다.

#### 반응형 웹

- 스토리북을 활용해 반응형 시각적 회귀테스트를 한다.
- reg-suit 을 활용한다.

##### DB가 필요한 E2E 테스트

- 테스트용 stage 환경을 구축해야한다.
- 테스트할 시스템을 컨테이너화해, CI 환경에서도 실행할 수 있도록 한다.
