브라우저는 HTML을 읽다가 `<script>...</script>` 태그를 만나면 스크립트를 먼저 실행해야 하므로 DOM 생성을 멈춘다.

이는 `src` 속성이 있는 외부 스크립트 `<script src="..."></script>`를 만났을 때도 마찬가지이다

이 때 발생하는 문제가 있다
- 해당 script 가 용량이 크다면, script 가 처리될 때까지 HTML을 읽는 것을 막아버린다.
- 해당 script는 그보다 아래 있는 DOM 요소에 접근할 수 없다.


## defer 와 async
`async`와 `defer` 스크립트는 모두 벡그라운드에서 다운로드 때문에 다운로드 시 페이지 렌더링을 막지 않는다는 공통점이 있다. 덕분에  script 의 실행을 오래 기다리지 않고 HTML 읽어서, 콘텐츠를 빠르게 전달할 수 있다.

## defer
defer 로 선언된 script들은 모두 순차적으로 등록되고, 이후 DOMContentLoaded 이벤트가 발생하기 직전에 실행된다.

단, src 가 없으면 defer 는 무시된다.

> 스크립트가 실행되기 _전_ 에 페이지가 화면에 출력된다는 점에 항상 유의해야 한다. 사용자는 그래픽 관련 컴포넌트들이 준비되지 않은 상태에서 화면을 보게 될 수 있다
 >defer 스크립트가 영향을 주는 영역엔 반드시 '로딩 인디케이터’가 있어야 한다. 관련 버튼도 사용 불가(disabled) 처리를 해줘야 한다

## async
async 스크립트는 HTML 문서가 완전히 다운로드되지 않은 상태라도 로드 및 실행될 수 있다.  HTML 과는 완전히 독립적으로 동작한다.

defer 처럼 DOMContentLoaded 와도 별개로 동작한다.
async 스크립트 끼리도 서로 별개로 동작한다.


> 비동기 스크립트는 방문자 수 카운터나 광고 관련 스크립트처럼 각각 독립적인 역할을 하는 서드 파티 스크립트를 현재 개발 중인 스크립트에 통합하려 할 때 아주 유용하다.



## 참고자료
https://ko.javascript.info/script-async-defer

